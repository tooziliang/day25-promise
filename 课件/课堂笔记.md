# 复习npm和yarn

- npm和yarn都是nodejs包管理器

- yarn是并行，npm在5版本以上也是并行。

- npm常用命令

  ```
  npm init -y
  npm i xx@版本号 -S # 生成依赖
  npm i xx@版本号 -D # 开发依赖
  npm uninstall xxx
  npm i xx@包名  -g # 仅当做一个全局命令去使用
  npm install # 安装package.json所有依赖
  npm install --product # 仅安装生产依赖
  ```

  > 如果包npm项目推送到仓库，记得要把node_modules忽略掉

- yarn常用命令

  ```
  yarn init -y
  yarn add xx@版本号
  yarn remove xxx
  yarn # 安装package.json所有依赖
  yarn add xxx@版本号 --dev #安装开发依赖
  yarn add xxx global # 安装全局包
  ```

- node导出模块内容

  - module.exports ， 默认只是{}
  - exports：仅仅是module.exports 的一个引用

  利用require来导入自定义模块，require函数底层源码最终是将module.exports内容进行导出



- 注意：一个项目中，不要将npm和yarn混着用。

  ​

# js是属于词法作用域

词法作用域（静态作用域）：即js函数中的作用域在`定义的时候`就确定了。

> 与其相反的是动态作用域（Linux-bash）

```js
var a = 1
function A(){
    console.log(a) // 1
}

function B(){
    var a = 2
    A()
}

B()

```



# nodejs中模块化规范属于commonjs规范

```
const xxx = require(模块名)
```

es6模块化(ESM)

```
import xxx from '模块名'
```





# 一道恶心的面试题

```js
var a = { n: 1 }
var b = a
// 先算 a.x
// 后算 =
a.x = a = { n: 2 }
console.log(a) // { n: 2 }
console.log(b) // { n: 1, x: { n: 2 } }

```





